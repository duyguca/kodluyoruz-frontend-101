(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"38iq":function(e,n,t){"use strict";t("TeQF"),t("2B1R");var a=t("q1tI"),i=t.n(a),r=t("m4Mt"),l=t("tm46"),o=t("uVGu"),c=t("Astw"),s=t("vOnD"),m=t("ufqH"),u=t("aJmg"),d=t("SSJ2"),h=s.d.header.withConfig({displayName:"HeaderMobilestyles__Header",componentId:"l8v3m3-0"})(["\n  ","\n"],(function(e){var n=e.minHeight;return Object(s.c)(["\n      min-height: ",";\n    "],Object(m.d)(n||56))})),f=s.d.nav.withConfig({displayName:"HeaderMobilestyles__Nav",componentId:"l8v3m3-1"})(["\n  ","\n"],(function(e){var n=e.theme,t=e.sticky,a=e.hide,i=e.offset,r=e.animated;return Object(s.c)(["\n    position: ",";\n    top: 0;\n    left: 0;\n    right: 0;\n    transition: ",";\n    transform: translateY(",") translateZ(0);\n\n    border-bottom: 2px solid ",";\n    ",";\n  "],t?"fixed":"relative",r?"transform 400ms cubic-bezier(0.4, 0, 0.2, 1)":"none",a?"-"+i+"px":"0",n.color("yellow"),n.zIndex("medium"))})),b=s.d.div.withConfig({displayName:"HeaderMobilestyles__Fade",componentId:"l8v3m3-2"})(["\n  display: ",";\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background: ",";\n\n  opacity: ",";\n  transition: opacity 0.3s;\n  ",";\n"],(function(e){return e.isVisible?"block":"none"}),(function(e){return e.theme.color("black")}),(function(e){return e.isVisible?.5:0}),(function(e){return e.theme.zIndex("high")})),p=Object(s.e)(["\n  0% {\n    transform: translateX(-100%) translateZ(0);\n  }\n  99% {\n    transform: translateX(0%) translateZ(0);\n  }\n  100% {\n    transform: translateX(0%) translateZ(0);\n    visibility: visible;\n  }\n"]),g=Object(s.e)(["\n  0% {\n    transform: translateX(0%) translateZ(0);\n  }\n  99% {\n    transform: translateX(-100%) translateZ(0);\n  }\n  100% {\n    transform: translateX(-100%) translateZ(0);\n    visibility: hidden;\n  }\n"]),y=s.d.div.withConfig({displayName:"HeaderMobilestyles__MenuDrawer",componentId:"l8v3m3-3"})(["\n  background: ",";\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  ",";\n  max-width: ",";\n\n  transform: translateX(-100%) translateZ(0);\n  visibility: hidden;\n\n  animation: "," 0.3s;\n  animation-fill-mode: forwards;\n  overflow-x: hidden;\n\n  ",";\n"],(function(e){return e.theme.color("white")}),(function(e){return e.theme.zIndex("high")}),"23.4375rem",(function(e){return e.isVisible?p:g}),(function(e){return e.theme.media.max("small")(Object(s.c)(["\n      max-width: 100%;\n    "]))})),v=Object(s.d)(u.a).withConfig({displayName:"HeaderMobilestyles__StyledSearchWithData",componentId:"l8v3m3-4"})(["\n  ","\n"],(function(e){var n=e.theme;return Object(s.c)(["\n    ","\n  "],n.media.min("small")(Object(s.c)(["\n      right: ",";\n    "],n.sizing("3xs"))))})),O=Object(s.d)(d.a).withConfig({displayName:"HeaderMobilestyles__StyledGlobalBanner",componentId:"l8v3m3-5"})(["\n  max-width: calc(100% - ",");\n  width: 100%;\n\n  ",";\n"],"3.1875rem",(function(e){return e.theme.media.min("small")(Object(s.c)(["\n      max-width: none;\n    "]))})),w=s.d.div.withConfig({displayName:"HeaderMobilestyles__GlobalBannerWrapper",componentId:"l8v3m3-6"})(["\n  display: flex;\n  align-items: center;\n  position: relative;\n\n  background-color: ",";\n"],(function(e){return e.theme.color("grey_extra_light")})),j=s.d.button.withConfig({displayName:"HeaderMobilestyles__GlobalBannerCloseButton",componentId:"l8v3m3-7"})(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n  padding: ",";\n\n  ",";\n"],"1.0625rem",(function(e){return e.theme.media.min("small")(Object(s.c)(["\n      position: absolute;\n      right: 0;\n      top: 0;\n      bottom: 0;\n    "]))})),k=(t("SYor"),t("m3ks")),E=t("mJdZ"),x=t("c/gA"),C=t("lN9A"),_=t("3ACc"),B=t("loQ3"),I=t("y9cs"),M=t("zuA3"),N=t("4BAa"),S=t("WRZS"),A=s.d.div.withConfig({displayName:"MainBarstyles__Header",componentId:"p97gem-0"})(["\n  ","\n"],(function(e){var n=e.theme;return Object(s.c)(["\n    position: relative;\n    display: flex;\n    justify-content: flex-end;\n    background-color: ",";\n    padding: 0 ",";\n    min-height: ",";\n  "],n.color("white"),n.sizing("ms"),"3.125rem")})),H=Object(s.d)(N.b).withConfig({displayName:"MainBarstyles__ButtonText",componentId:"p97gem-1"})(["\n  display: block;\n"]),L=Object(s.d)(M.a).withConfig({displayName:"MainBarstyles__LogoLink",componentId:"p97gem-2"})(["\n  position: absolute;\n  top: 50%;\n  left: ",";\n  transform: translate(-50%, -50%);\n"],"5.3125rem"),Z=s.d.div.withConfig({displayName:"MainBarstyles__UserNavItems",componentId:"p97gem-3"})(["\n  display: flex;\n  align-items: center;\n  height: ",";\n  & ",", & "," {\n    margin-left: ",";\n  }\n  & .first {\n    margin-left: 0;\n  }\n"],"3.25rem",S.a,S.b,(function(e){return e.theme.sizing("xs")})),z=Object(s.d)(M.a).withConfig({displayName:"MainBarstyles__StyledLink",componentId:"p97gem-4"})(["\n  display: flex;\n  flex-direction: column;\n  justify-content: ",";\n  align-items: center;\n\n  height: 100%;\n  margin-right: ",";\n  &:last-of-type {\n    margin: 0;\n  }\n\n  color: ",";\n  ",";\n"],(function(e){return e.center?"center":"flex-end"}),(function(e){return e.theme.sizing("ms")}),(function(e){return e.theme.color("black")}),(function(e){return e.theme.font("sm2")})),T=s.d.button.withConfig({displayName:"MainBarstyles__StyledButton",componentId:"p97gem-5"})(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  height: 100%;\n  margin-right: ",";\n\n  color: ",";\n  ",";\n"],(function(e){return e.theme.sizing("ms")}),(function(e){return e.theme.color("black")}),(function(e){return e.theme.font("sm2")})),V=t("RCCJ"),R=t("HPCf"),X=t("gkjP"),D=function(e){var n,t=e.onSearchClick,o=e.isSearchOpen,s=Object(x.a)(),m=Object(r.a)(),u=Object(E.i)().triggerEvent,d=Object(C.a)().locale,h=Object(a.useState)(!1),f=h[0],b=h[1],p=Object(a.useState)(!1),g=p[0],y=p[1],v=function(){b(!f)},O=function(){y(!g)};return Object(l.a)(f),i.a.createElement(i.a.Fragment,null,i.a.createElement(A,null,i.a.createElement(L,{to:"/","data-test":"lego-logo"},i.a.createElement(I.a,{width:40,height:40})),"boolean"==typeof(null==s?void 0:s.isLid)&&i.a.createElement(Z,null,i.a.createElement(T,{"aria-haspopup":"menu","aria-expanded":o,"aria-label":m("header.utilityBar.search"),"data-test":"util-bar-search",className:"first",onClick:function(e){e.stopPropagation(),t()}},i.a.createElement(c.a,{type:"search",color:"black"})),Object(X.b)(d)&&(null!=s&&s.isLid?i.a.createElement(z,{"aria-label":m("header.utilityBar.account"),"data-test":"header-account-cta",to:k.a.ACCOUNT,center:1},i.a.createElement(c.a,{type:"account"})):i.a.createElement(T,{"aria-expanded":f,"aria-haspopup":"menu","aria-label":m("header.utilityBar.account"),"data-test":"header-account-cta",onClick:v},i.a.createElement(c.a,{type:"account"}))),Object(_.a)(d)&&(null!=s&&s.isLid?i.a.createElement(z,{"aria-label":m("header.utilityBar.myWishlist"),"data-test":"util-bar-wishlist",to:k.a.ACCOUNT_WISHLIST_2,center:1,onClick:function(){u({label:"wishlistNavClick",eventType:["custom"]})}},i.a.createElement(c.a,{type:"wishlist",width:20,height:18})):i.a.createElement(T,{"aria-expanded":g,"aria-haspopup":"menu","aria-label":m("header.utilityBar.myWishlist"),"data-test":"util-bar-wishlist",onClick:O},i.a.createElement(c.a,{type:"wishlist",width:20,height:18}))),Object(X.c)(d)?i.a.createElement(z,{"data-test":"util-bar-cart",to:Object(X.c)(d).url},i.a.createElement(c.a,{type:"bag",color:"black",width:16,height:20}),i.a.createElement(H,{weight:"bold",size:"sm2"},i.a.createElement(B.a,{id:"header.utilityBar.partner.shop.here.mobile"}))):Object(X.a)(d)&&i.a.createElement(z,{"aria-label":m("header.utilityBar.basket",{count:""}).trim(),"data-test":"util-bar-cart",to:k.a.CART},i.a.createElement(c.a,{type:"bag",color:"black",width:16,height:20}),(null==s||null===(n=s.cart)||void 0===n?void 0:n.totalLineItems)||0))),Object(_.a)(d)&&i.a.createElement(i.a.Fragment,null,i.a.createElement(V.a,{isOpen:f,onRequestClose:v}),i.a.createElement(R.a,{isOpen:g,onRequestClose:O})))},G=(t("ma9I"),t("x0AG"),t("zKZe"),t("DUc8")),P=t("WY/m"),q=t("Q4Ru"),K=s.d.div.withConfig({displayName:"MenuPanelstyles__Panel",componentId:"sc-1946ahe-0"})(["\n  display: flex;\n  flex-direction: column;\n  background: ",";\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n\n  transition: transform 500ms;\n  ","\n"],(function(e){return e.theme.color("white")}),(function(e){switch(e.position){case"left":return Object(s.c)(["\n          transform: translateX(-100%) translateZ(0);\n          visibility: hidden;\n        "]);default:case"center":return Object(s.c)(["\n          transform: translateZ(0);\n        "]);case"right":return Object(s.c)(["\n          transform: translateX(100%) translateZ(0);\n          visibility: hidden;\n        "])}})),W=t("xdaq");function F(){return(F=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}var J=function(e){var n=e.actions,t=e.panelData,a=e.position,l=e.menuActive,o=t.id,c=Object(r.a)(),s=null;if(o===W.a){var m=[{analyticsTitle:"home",children:null,target:{url:"/"},title:c("header.categories.home")}].concat(t.children);s=i.a.createElement(P.a,{actions:n,categories:m,menuActive:l})}else{var u=t.children,d=t.parents,h=t.promotionalBlocks,f=t.promoBlockPosition,b=d.length>0?d[d.length-1]:null,p={children:u,parents:d,parentAnalyticsTitle:b?b.analyticsTitle:null,promotionalBlocks:h,promoBlockPosition:f};s=i.a.createElement(q.a,F({actions:n,position:a},p,{menuActive:l}))}return i.a.createElement(K,{position:a,"data-test":"header-mobile-menu-panel"},s)},U=t("k+Iq"),Q={left:[],contentKey:W.a},Y=function(e){var n=e.categories,t=e.toggleMenu,r=e.utilityLinks,l=e.account,o=e.menuActive,c=e.globalBannerVisible,s=Object(a.useState)(Q),m=s[0],u=s[1],d=Object(E.i)().triggerEvent,h=Object(a.useMemo)((function(){return function e(n,t,a){return void 0===t&&(t=[]),void 0===a&&(a=[]),t.push(Object.assign({},n,{parents:[].concat(a.filter((function(e){return e.id!==W.a})),[n])})),n.children&&n.children.some((function(e){return e.children}))&&n.children.map((function(a){return e(a,t,[n])})),t}({id:W.a,children:n})}),[n]),f=function(e){e===W.a?u(Q):u((function(e){var n=[].concat(e.left),t=n.pop();return{left:n,contentKey:t}}))},b={openLeft:f,openRight:function(e){return u((function(n){return{left:[].concat(n.left,[n.contentKey]),contentKey:e}}))},closeMenu:t};return i.a.createElement(G.a,{disabled:!o},i.a.createElement(y,{isVisible:o},h.map((function(e,n){var t="right";return m.contentKey===e.id?t="center":m.left.findIndex((function(n){return n===e.id}))>-1&&(t="left"),i.a.createElement(J,{key:n,actions:b,panelData:e,position:t,utilityLinks:r,account:l,menuActive:o})}))),i.a.createElement(U.a,{globalBannerVisible:c,onToggle:function(){t(),d({label:"headerNav",eventType:["custom"],data:{section:o?"closed":"open"}})},onBack:function(){m.left.length>0&&f("main")},isOpen:o,backButtonActive:m.left.length>0}))},$=t("GcUl"),ee=t("o8aK"),ne=t("l5Ic");n.a=function(e){var n,t=e.categories,s=e.utilityLinks,m=e.account,u=e.cart,d=e.globalBanner,p=Object(r.a)(),g=Object(a.useState)(!1),y=g[0],k=g[1];Object(l.a)(y);var E=Object(a.useContext)(ee.b).notification,x=Object(a.useRef)(null),C=Object(a.useState)(!1),_=C[0],B=C[1],I=Object(a.useContext)(ne.a),M=I.headerActions,N=I.headerState,S=N.headerIsSticky,A=N.headerIsHidden,H=N.headerIsAnimated,L=N.headerHeight,Z=N.isMobileGlobalBannerOpen;Object(o.a)((function(){x.current&&M.setHeight(x.current.offsetHeight)}));var z=function(){return k((function(e){return!e}))},T=null==d||null===(n=d.banners)||void 0===n?void 0:n.map((function(e){return"DummySection"===e.__typename?null:Array.isArray(e.section)&&e.section[0]})).filter(Boolean);return i.a.createElement(h,{minHeight:L,"data-test":"new-header-mobile"},i.a.createElement(b,{isVisible:y,onClick:z}),i.a.createElement(Y,{categories:t,toggleMenu:z,utilityLinks:s,account:m,menuActive:y,globalBannerVisible:((null==T?void 0:T.length)||0)>0&&Z}),((null==T?void 0:T.length)||0)>0&&Z&&i.a.createElement(w,null,i.a.createElement(O,{banners:T}),i.a.createElement(j,{"aria-label":p("element.modal.closeLabel"),"data-test":"mobile-global-banner-close-btn",onClick:function(){M.setIsMobileGlobalBannerOpen(!1)}},i.a.createElement(c.a,{type:"cross"}))),i.a.createElement(f,{ref:x,sticky:S,hide:A,animated:H,offset:L,"data-test":"header-wrapper","aria-label":p("header.mainbar.label")},i.a.createElement(D,{openMenuDrawer:z,account:m,cart:u,isSearchOpen:_,onSearchClick:function(){return B(!0)}}),(null==E?void 0:E.isVisible)&&!(null!=E&&E.isModalOpen)&&i.a.createElement($.a,{type:E.type,message:E.message})),_&&i.a.createElement(v,{a11yId:"mobile-main-search",onClose:function(){return B(!1)},isFocused:!0,openedFromMobile:!0}))}}}]);
//# sourceMappingURL=38e67c44367390b1c754.17.js.map