(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{lyEu:function(e,n,t){"use strict";t("yyme"),t("TeQF"),t("2B1R"),t("+2oP"),t("ToJy"),t("zKZe"),t("FZtP");var o=t("q1tI"),i=t.n(o),a=t("IMK7"),r=t("hHAu"),c=t("ediC"),l=t("87Vq"),s=t("ffY6"),d=t("LTAh"),u=t("Astw"),p=t("1iDK"),m=t("aw1k"),f=t("PX05"),b=t("b6xR"),h=t("vOnD"),g=t("3tXg"),v={ease:"easeOut",duration:.25},x=Object(h.d)(g.a.div).withConfig({displayName:"FeaturePopupstyles__Container",componentId:"c5e5kz-0"})((function(e){var n=e.$x,t=e.$y,o=e.$isActive,i=e.theme;return Object(h.c)(["\n    text-align: center;\n    position: absolute;\n    top: ",";\n    left: ",";\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: ","px;\n    margin: auto;\n    ",";\n\n    ","\n\n    ",";\n  "],o?"33%":t+"%",o?"50%":n+"%",310,i.zIndex("low"),i.media.min("small")(Object(h.c)(["\n      top: ",";\n      width: ","px;\n    "],o?"40%":t,200)),i.media.min("medium")(Object(h.c)(["\n      left: ","%;\n      top: ","%;\n      width: ","px;\n    "],n,t,320)))})),y=Object(h.d)(g.a.img).withConfig({displayName:"FeaturePopupstyles__Image",componentId:"c5e5kz-1"})((function(e){var n=e.theme;return Object(h.c)(["\n    border: 2px solid ",";\n    border-radius: ",";\n  "],n.color("white"),n.sizing("3xs"))})),O=Object(h.d)(g.a.video).withConfig({displayName:"FeaturePopupstyles__Video",componentId:"c5e5kz-2"})((function(e){var n=e.theme;return Object(h.c)(["\n    display: block;\n    border: 2px solid ",";\n    border-radius: ",";\n  "],n.color("white"),n.sizing("3xs"))})),j=Object(h.d)(g.a.div).withConfig({displayName:"FeaturePopupstyles__ToggleButton",componentId:"c5e5kz-3"})((function(e){var n=e.$backgroundColor,t=e.$disabled,o=e.$isActive,i=e.theme;return Object(h.c)(["\n    position: absolute;\n    left: ",";\n    top: ",";\n    width: 28px;\n    height: 28px;\n    cursor: pointer;\n    pointer-events: ",";\n    border-radius: 50%;\n    border: 2px solid ",";\n    background-color: ",";\n    box-shadow: 0 2px 8px ",";\n    font-size: 1.4rem;\n\n    &::before {\n      display: block;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translateX(-50%) translateY(-50%);\n      content: '+';\n      line-height: 48px;\n      width: 48px;\n    }\n\n    ","\n\n    ","\n  "],o?"98%":"50%",o?"2%":0,t?"none":"all",i.color("white"),n,n,i.media.min("small")(Object(h.c)(["\n      left: 50%;\n      top: 0;\n    "])),i.media.min("medium")(Object(h.c)(["\n      height: 44px;\n      width: 44px;\n      font-size: 2.25rem;\n    "])))})),w=Object(h.d)(g.a.div).withConfig({displayName:"FeaturePopupstyles__Text",componentId:"c5e5kz-4"})((function(e){var n=e.theme;return Object(h.c)(["\n    margin-top: ",";\n    width: ","px;\n    h2 {\n      margin: 0;\n      font-size: ",";\n      font-weight: ",";\n    }\n    p {\n      margin: 0.45em 0 0;\n      font-weight: 400;\n      font-size: ",";\n    }\n    padding: ",";\n    \n    "," "," ",";\n  "],n.sizing("3xs"),280,n.fontSize("s0"),n.fontWeight("bold"),n.fontSize("sm2"),n.sizing("3xs"),n.media.min("small")(Object(h.c)(["\n      text-shadow: 0 0 0.25em ",";\n      background: ",";\n      backdrop-filter: blur(6px);\n      border-radius: ",";\n      padding: "," ",";\n      width: 100%;\n    "],n.color("black"),n.color("black",{transparency:.2}),n.sizing("3xs"),n.sizing("xs"),n.sizing("ms"))),n.media.min("medium")(Object(h.c)(["\n    width: ","px;\n    h2 {\n      font-size: ",";\n    }\n    p {\n      font-size: ",";\n    }\n  "],200,n.fontSize("s2"),n.fontSize("sm1"))),n.media.min("large")(Object(h.c)(["\n    width: ","px;\n  "],320)))})),C=function(e){var n=e.feature,t=e.isOpen,a=e.disabled,r=e.onOpenRequest,c=e.onCloseRequest,l=e.backgroundColor,s=e.numberPrefix,d=e.size,u=n.position,p=u.x,m=u.y,f=n.text,b=n.image,h=n.video,g=n.title,C=Object(o.useRef)(),E=Object(o.useMemo)((function(){switch(d){case"small":return 310;case"medium":return 200;default:return 320}}),[d]);return Object(o.useEffect)((function(){C.current&&(t?(C.current.currentTime=0,C.current.play()):C.current.pause())}),[t]),i.a.createElement(x,{$isActive:t,$x:p,$y:m,style:{x:"-50%",zIndex:t?2:null},initial:{y:"0%"},animate:{y:t?"-40%":"0%"},transition:v,"data-test":"feat-exp-popup-container"},h?i.a.createElement(O,{ref:C,autoPlay:!0,controls:!1,muted:!0,poster:b,loop:!0,initial:{opacity:0},animate:{opacity:t?1:0,y:t?0:-E/2,scale:t?1:.25},style:{width:E},transition:v,"data-test":"feat-exp-popup-video"},i.a.createElement("source",{src:h,type:"video/mp4"})):i.a.createElement(y,{alt:"",src:b,initial:{opacity:0},animate:{opacity:t?1:0,y:t?0:-E/2,scale:t?1:.25},style:{width:E},transition:v,"data-test":"feat-exp-popup-img"}),i.a.createElement(w,{initial:{opacity:0},animate:{opacity:t?1:0,y:t?0:-E,scale:t?1:.25},transition:v,"data-test":"feat-exp-text"},i.a.createElement("h2",null,"small"===d?"0"+(s+1)+":":""," ",g),i.a.createElement("p",null,f)),i.a.createElement(j,{isOpen:t,$isActive:t,$disabled:a,onClick:function(e){return n=e.nativeEvent.pointerType,void(t?c(n):r(n));var n},style:{x:"-50%",y:"-50%"},animate:{rotate:t?45:0},transition:v,$backgroundColor:l,"data-test":"feat-exp-popup-toggle-btn"}))},E=t("ufqH"),k=Object(E.d)(900),z=h.d.div.withConfig({displayName:"FeatureExplorerstyles__Container",componentId:"sc-18brf24-0"})((function(e){var n=e.theme,t=e.$backgroundColor,o=e.$backgroundLightColor,i=e.$backgroundDarkColor,a=e.$useFeatureViewHeight;return Object(h.c)(["\n    overflow: hidden;\n    touch-action: pan-y;\n    position: relative;\n    height: calc(\n      ","px +\n        ","\n    );\n    width: 100%;\n    background: ",";\n    background: radial-gradient(\n      circle,\n      "," 0%,\n      "," 100%\n    );\n    color: ",";\n    text-shadow: 0 0 0.5em ",";\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n\n    ","\n\n    ","\n  "],176,a?"386":"56.25vw",t,o,i,n.color("white"),n.color("black",{transparency:.5}),n.media.min("small")(Object(h.c)(["\n      height: calc(","px + "," + 56.25vw);\n    "],52,n.sizing("xxl"))),n.media.min("medium")(Object(h.c)(["\n      height: calc("," + 56.25vw);\n      max-height: calc("," + ",");\n    "],n.sizing("xxl"),k,n.sizing("xxl"))))})),_=h.d.div.withConfig({displayName:"FeatureExplorerstyles__Header",componentId:"sc-18brf24-1"})((function(e){var n=e.theme;return Object(h.c)(["\n    position: relative;\n    padding: 0 ",";\n    top: 0;\n    left: 0;\n    right: 0;\n    height: ",";\n    background: ",";\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    user-select: none;\n\n    ",";\n  "],n.sizing("sm"),Object(E.d)(86),n.color("black",{transparency:.4}),n.media.min("small")(Object(h.c)(["\n      position: absolute;\n      flex-direction: row;\n      justify-content: space-between;\n      height: ",";\n    "],n.sizing("3xl"))))})),$=h.d.div.withConfig({displayName:"FeatureExplorerstyles__TabControls",componentId:"sc-18brf24-2"})((function(e){var n=e.theme;return Object(h.c)(["\n    background: ",";\n    height: ",";\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    user-select: none;\n\n    ","\n  "],n.color("black",{transparency:.4}),Object(E.d)(38),n.media.min("small")(Object(h.c)(["\n      display: none;\n    "])))})),F=h.d.button.withConfig({displayName:"FeatureExplorerstyles__Tab",componentId:"sc-18brf24-3"})((function(e){var n=e.$isActive,t=e.$accentColor,o=e.theme;return Object(h.c)(["\n    color: ",";\n    border-bottom: solid 3px ",";\n    height: 100%;\n    margin: 0 ",";\n    font-size: ",";\n    line-height: ",";\n  "],n?t:o.color("white"),n?t:"transparent",o.sizing("xs"),o.fontSize("sm1"),o.lineHeight("sm1"))})),I=Object(h.d)(g.a.div).withConfig({displayName:"FeatureExplorerstyles__InputZone",componentId:"sc-18brf24-4"})(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  cursor: grab;\n  &:active {\n    cursor: grabbing;\n  }\n"]),N=h.d.div.withConfig({displayName:"FeatureExplorerstyles__Title",componentId:"sc-18brf24-5"})((function(e){var n=e.theme,t=e.$accentColor;return Object(h.c)(["\n    font-size: ",";\n    line-height: ",";\n    font-weight: ",";\n    color: ",";\n\n    ","\n    ","\n  "],n.fontSize("s2"),n.lineHeight("s2"),n.fontWeight("bold"),t,n.media.min("small")(Object(h.c)(["\n      font-size: ",";\n      line-height: ",";\n    "],n.fontSize("s3"),n.lineHeight("s3"))),n.media.min("medium")(Object(h.c)(["\n      font-size: ",";\n      line-height: ",";\n    "],n.fontSize("s5"),n.lineHeight("s5"))))})),S=h.d.div.withConfig({displayName:"FeatureExplorerstyles__Label",componentId:"sc-18brf24-6"})((function(e){var n=e.theme;return Object(h.c)(["\n    text-transform: uppercase;\n    font-weight: ",";\n    letter-spacing: 0.4em;\n    font-size: ",";\n    line-height: ",";\n\n    ","\n\n    ","\n  "],n.fontWeight("bold"),n.fontSize("sm2"),n.lineHeight("sm2"),n.media.min("small")(Object(h.c)(["\n      font-size: ",";\n      line-height: ",";\n    "],n.fontSize("sm1"),n.lineHeight("sm1"))),n.media.min("medium")(Object(h.c)(["\n      font-size: ",";\n      line-height: ",";\n    "],n.fontSize("s0"),n.lineHeight("s0"))))})),T=h.d.div.withConfig({displayName:"FeatureExplorerstyles__ScalingContentWrapper",componentId:"sc-18brf24-7"})((function(e){var n=e.$useFeatureViewHeight,t=e.theme;return Object(h.c)(["\n    position: relative;\n    height: ",";\n    max-height: ",";\n\n    ","\n  "],n?"438px":"56.25vw",k,t.media.min("small")(Object(h.c)(["\n      position: absolute;\n      height: 56.25vw;\n      top: ",";\n      right: 0;\n      bottom: 0;\n      left: 0;\n    "],t.sizing("xxl"))))})),A=h.d.div.withConfig({displayName:"FeatureExplorerstyles__CanvasWrapper",componentId:"sc-18brf24-8"})(["\n  height: 56.25vw;\n  max-height: ",";\n  top: 50%;\n  transform: translateY(-50%);\n  position: absolute;\n  width: 100%;\n"],k),M=h.d.img.withConfig({displayName:"FeatureExplorerstyles__Logo",componentId:"sc-18brf24-9"})((function(e){var n=e.$isActive,t=e.theme;return Object(h.c)(["\n    display: ",";\n    position: absolute;\n    bottom: ",";\n    left: ",";\n    height: auto;\n    pointer-events: none;\n    user-select: none;\n    max-width: ",";\n\n    ","\n  "],n?"block":"none",t.sizing("3xs"),t.sizing("3xs"),"5rem",t.media.min("small")(Object(h.c)(["\n      display: block;\n      bottom: ",";\n      left: ",";\n      max-width: ",";\n    "],t.sizing("ms"),t.sizing("ms"),"6.6875rem")))})),D=h.d.div.withConfig({displayName:"FeatureExplorerstyles__Footer",componentId:"sc-18brf24-10"})((function(e){var n=e.$isActive,t=e.theme;return Object(h.c)(["\n    position: relative;\n    width: 100%;\n    height: ",";\n    background: ",";\n    display: ",";\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n\n    ","\n\n    ","\n  "],Object(E.d)(52),t.color("black",{transparency:.4}),n?"flex":"none",t.media.min("small")(Object(h.c)(["\n      display: flex;\n    "])),t.media.min("medium")(Object(h.c)(["\n      background: none;\n    "])))})),H=h.d.div.withConfig({displayName:"FeatureExplorerstyles__ControlWrapper",componentId:"sc-18brf24-11"})((function(e){var n=e.theme;return Object(h.c)(["\n    box-shadow: 0 0 0 1px ",";\n    position: relative;\n    overflow: hidden;\n    border-radius: ",";\n    background: ",";\n    width: ",";\n    height: ",";\n\n    ","\n  "],n.color("grey_dark"),Object(E.d)(17.5),n.color("black",{transparency:.4}),Object(E.d)(320),Object(E.d)(35),n.media.min("medium")(Object(h.c)(["\n      box-shadow: none;\n      position: absolute;\n      bottom: ",";\n      right: ",";\n    "],n.sizing("sm"),n.sizing("sm"))))})),P=h.d.div.withConfig({displayName:"FeatureExplorerstyles__ControlWrapperLabel",componentId:"sc-18brf24-12"})((function(e){var n=e.theme;return Object(h.c)(["\n    display: none;\n\n    ","\n\n    ","\n  "],n.media.min("small")(Object(h.c)(["\n      position: relative;\n      display: block;\n      height: ",";\n      font-size: ",";\n      line-height: ",";\n      padding-right: ",";\n      user-select: none;\n    "],Object(E.d)(35),n.fontSize("sm1"),Object(E.d)(35),n.sizing("sm"))),n.media.min("medium")(Object(h.c)(["\n      position: absolute;\n      bottom: ",";\n      font-size: ",";\n      right: calc("," + ","px);\n    "],n.sizing("sm"),n.fontSize("s0"),n.sizing("sm"),320)))})),W=Math.ceil(27.5),L=320-2*W,R=L*(4/3),q=Object(h.d)(g.a.div).withConfig({displayName:"FeatureExplorerstyles__DragControlBackground",componentId:"sc-18brf24-13"})((function(e){var n=e.theme;return Object(h.c)(["\n    cursor: pointer;\n    position: absolute;\n    top: 0;\n    left: ",";\n    right: ",";\n    bottom: 0;\n\n    &:before {\n      position: absolute;\n      left: 0;\n      right: 0;\n      top: ",";\n      content: '';\n      height: 1px;\n      background: ",";\n      pointer-events: none;\n    }\n  "],Object(E.d)(W),Object(E.d)(W),Object(E.d)(Math.floor(17.5)),n.color("white"))})),B=h.d.div.withConfig({displayName:"FeatureExplorerstyles__DragControlDotsWrapper",componentId:"sc-18brf24-14"})(["\n  display: flex;\n  justify-content: space-between;\n  position: absolute;\n  top: 0;\n  left: ","%;\n  right: ","%;\n  bottom: 0;\n"],50*(1-4/3),50*(1-4/3)),V=h.d.div.withConfig({displayName:"FeatureExplorerstyles__DragDot",componentId:"sc-18brf24-15"})((function(e){var n=e.theme;return Object(h.c)(["\n    flex: 1;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    &::after {\n      content: '';\n      position: relative;\n      width: ",";\n      height: ",";\n      border-radius: 50%;\n      background: ",";\n      border: 1px solid ",";\n    }\n\n    &:hover::after {\n      background: ",";\n    }\n  "],Object(E.d)(11),Object(E.d)(11),n.color("black"),n.color("white"),n.color("white"))})),X=Object(h.d)(g.a.div).withConfig({displayName:"FeatureExplorerstyles__DragControlHandle",componentId:"sc-18brf24-16"})((function(e){var n=e.$accentColor,t=e.$backgroundColor;return Object(h.c)(["\n    position: absolute;\n    top: ",";\n    width: ",";\n    left: ",";\n    height: ",";\n    border: 1px solid ",";\n    background: ",";\n    border-radius: ",";\n\n    &:before {\n      position: absolute;\n      left: 30%;\n      right: 30%;\n      top: ",";\n      content: '';\n      height: 1px;\n      background: ",";\n    }\n\n    cursor: grab;\n    &:active {\n      cursor: grabbing;\n    }\n\n    &:hover {\n      background: ",";\n    }\n    &:hover:before {\n      background: ",";\n    }\n  "],Object(E.d)(Math.floor(7)),Object(E.d)(41),Object(E.d)(-20.5),Object(E.d)(21),n,t,Object(E.d)(Math.floor(10.5)),Object(E.d)(Math.floor(9.5)),n,n,t)})),K=h.d.div.withConfig({displayName:"FeatureExplorerstyles__FeatureControlWrapper",componentId:"sc-18brf24-17"})(["\n  position: absolute;\n  top: 0;\n  left: ",";\n  right: ",";\n  bottom: 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"],Object(E.d)(10),Object(E.d)(10)),Y=h.d.div.withConfig({displayName:"FeatureExplorerstyles__FeatureControlTitle",componentId:"sc-18brf24-18"})((function(e){var n=e.theme;return Object(h.c)(["\n    font-size: ",";\n    user-select: none;\n  "],n.fontSize("sm1"))})),J=h.d.div.withConfig({displayName:"FeatureExplorerstyles__FeatureControlNavButton",componentId:"sc-18brf24-19"})((function(e){var n=e.$accentColor;return Object(h.c)(["\n    cursor: pointer;\n    color: ",";\n  "],n)})),Z=h.d.div.withConfig({displayName:"FeatureExplorerstyles__MobileFeatureControlNavButton",componentId:"sc-18brf24-20"})((function(e){var n=e.theme,t=e.$accentColor,o=e.$isActive,i=e.$direction;return Object(h.c)(["\n    display: ",";\n    cursor: pointer;\n    color: ",";\n    position: absolute;\n    top: ",";\n    left: 50%;\n    transform: ",";\n\n    ",";\n\n    &::before {\n      display: block;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translateX(-50%) translateY(-50%);\n      content: '';\n      line-height: 48px;\n      width: 48px;\n      height: 48px;\n    }\n  "],o?"block":"none",t,Object(E.d)(294),"left"===i?"translateX(calc(-155px + -32px))":"translateX(calc(155px + 16px))",n.media.min("medium")(Object(h.c)(["\n      display: none;\n    "])))})),G=Object(h.d)(g.a.div).withConfig({displayName:"FeatureExplorerstyles__FeatureWrapper",componentId:"sc-18brf24-21"})((function(e){var n=e.theme,t=e.$isActive,o=e.$backgroundDarkColor;return Object(h.c)(["\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    pointer-events: none;\n    user-select: none;\n    background-color: ",";\n\n    ","\n  "],t?""+o:"rgba(0, 0, 0, 0)",n.media.min("small")(Object(h.c)(["\n      background-color: ",";\n    "],t?"rgba(0, 0, 0, 0.4)":"rgba(0, 0, 0, 0)")))})),Q=Object(h.d)(g.a.div).withConfig({displayName:"FeatureExplorerstyles__FeatureScene",componentId:"sc-18brf24-22"})((function(e){var n=e.theme;return Object(h.c)(["\n    position: absolute;\n    top: ",";\n    right: 0;\n    bottom: 0;\n    left: 0;\n  "],n.sizing("xxl"))})),U=Object(h.d)(g.a.div).withConfig({displayName:"FeatureExplorerstyles__DragHintOverlay",componentId:"sc-18brf24-23"})((function(e){var n=e.theme,t=e.$isActive;return Object(h.c)(["\n    align-items: center;\n    background-color: rgba(255, 255, 255, 0.8);\n    border-radius: 50%;\n    display: ",";\n    height: ",";\n    left: 50%;\n    justify-content: center;\n    opacity: 0;\n    position: absolute;\n    pointer-events: none;\n    top: 50%;\n    width: ",";\n    transform: translate(-50%, -50%);\n    ",";\n  "],t?"flex":"none","5rem","5rem",n.zIndex("medium"))})),ee=Object(h.d)(g.a.div).withConfig({displayName:"FeatureExplorerstyles__DragHintIconWrapper",componentId:"sc-18brf24-24"})(["\n  display: flex;\n"]),ne=Object(h.d)(g.a.div).withConfig({displayName:"FeatureExplorerstyles__LoadingOverlay",componentId:"sc-18brf24-25"})((function(e){var n=e.theme;return Object(h.c)(["\n    align-items: center;\n    background-color: rgba(0, 0, 0, 0.4);\n    bottom: 0;\n    display: flex;\n    left: 0;\n    justify-content: center;\n    position: absolute;\n    right: 0;\n    top: 0;\n    ",";\n  "],n.zIndex("low"))}));n.a=function(e){var n,t,g=e.title,v=e.headerText,x=e.frames,y=e.features,O=e.logo,j=e.backgroundGradientColors,w=j.backgroundLightColor,E=j.backgroundDarkColor,k=e.accentColor,W=e.dragControlText,te=e.featureControlText,oe=e.errorText,ie=e.eventHandlers,ae=Object(o.useState)(!0),re=ae[0],ce=ae[1],le=Object(o.useState)(!1),se=le[0],de=le[1],ue=Object(o.useState)(!0),pe=ue[0],me=ue[1],fe=Object(o.useState)(!1),be=fe[0],he=fe[1],ge=Object(o.useState)(0),ve=ge[0],xe=ge[1],ye=Object(o.useRef)(null),Oe=Object(o.useContext)(h.a),je=Object(b.b)(Oe.media.breakpoints),we=ie.handleFeatureButtonClick,Ce=ie.handleControlArrowClick,Ee=ie.handleControlHandleDrag,ke=ie.handleControlDotClick,ze=ie.handleCanvasDrag,_e=ie.handleKeyboardNav,$e=ie.handleTabClick;Object(o.useEffect)((function(){if(window.Cypress&&!pe){var e=document.createEvent("CustomEvent");e.initCustomEvent("assets-loaded",!1,!1,void 0),document.dispatchEvent(e)}}),[pe]);var Fe=Object(o.useState)(0),Ie=Fe[0],Ne=Fe[1],Se=Object(o.useState)([-1,-1]),Te=Se[0],Ae=Se[1],Me=Object(r.a)(0),De=Object(c.a)(Me,(function(e){return e>0?e%1:1+e%1}));Object(o.useEffect)((function(){return De.onChange((function(e){var n=4*e,t=Math.round(n),o=Math.abs(n-t);ce(o<.1),Ne(t%4)}))}),[]);var He=Object(c.a)(De,(function(e){return(1-e+.125)%1/(3/4)*L})),Pe=Object(l.a)(),We=Object(o.useState)(!1),Le=We[0],Re=We[1],qe=Object(o.useMemo)((function(){return function(e,n){return Math.abs(e-Me.get())>.1&&Re(!0),Pe.start({position:e,transition:{velocity:n,ease:"easeOut"}}).then((function(){Re(!1)}))}}),[Me,Pe]),Be=Object(l.a)(),Ve=Object(r.a)(1),Xe=-1!==(null==Te?void 0:Te[0]),Ke=se||!Xe&&Le||!re||0!==ve;Object(o.useEffect)((function(){Ke?(Be.stop(),Ve.set(0)):Be.start({featureOverlayOpacity:1,transition:100})}),[Be,Ve,Ke]);var Ye=Object(o.useMemo)((function(){return y.map((function(e){return Object.assign({},e,{scene:(4-e.scene+1)%4+1})}))}),[y]),Je=Object(o.useMemo)((function(){var e=new Array(4).fill(0).map((function(e,n){var t={features:Ye.filter((function(e){return e.scene===n+1}))};return t.features.sort((function(e,n){return e.position.x-n.position.x||e.position.y-n.position.y})),t})),n=0;return e.forEach((function(e){e.features=e.features.map((function(e,t){return Object.assign({},e,{indexInSection:n++,indexInScene:t})}))})),e.forEach((function(n,t){var o=null==e?void 0:e[(0===t?e.length:t)-1],i=null==e?void 0:e[(t+1)%e.length];n.features.forEach((function(e,t){var a,r,c,l;e.next=(null===(a=n.features)||void 0===a?void 0:a[t+1])||(null===(r=i.features)||void 0===r?void 0:r[0]),e.prev=(null===(c=n.features)||void 0===c?void 0:c[t-1])||(null===(l=o.features)||void 0===l?void 0:l[o.features.length-1])}))})),e}),[Ye]),Ze=null==Je||null===(n=Je[null==Te?void 0:Te[0]])||void 0===n||null===(t=n.features)||void 0===t?void 0:t[null==Te?void 0:Te[1]],Ge=Object(o.useCallback)((function(e){if(Xe){var n=1===e?Ze.next:Ze.prev;Ne(n.scene-1),Ae([n.scene-1,n.indexInScene]);var t=Me.get()+1/4*(n.scene===Ze.scene?0:e),o=Math.round(4*t)/4;qe(o)}else{var i=Me.get()+1/4*-e,a=Math.round(4*i)/4;qe(a)}}),[qe,Ze,Xe,Me]),Qe=Object(o.useMemo)((function(){switch(je){case"tiny":case"small":return"small";case"medium":case"large":return"medium";default:return"large"}}),[je]);Object(a.a)("ArrowLeft",(function(){_e(),"small"===Qe?xe(-1):Ge(-1)})),Object(a.a)("ArrowRight",(function(){_e(),"small"===Qe?xe(1):Ge(1)})),Object(a.a)("Escape",(function(){Ae([-1,-1])})),Object(o.useEffect)((function(){ye.current||0!==ve&&(Ge(ve),ye.current=setTimeout((function(){xe(0),ye.current=null}),180))}),[Ge,ve]);var Ue=Object(o.useMemo)((function(){return new Array(4).fill(0).map((function(e,n){return i.a.createElement(V,{key:n,onClick:function(e){ke(e.nativeEvent.pointerType);var t=Math.round(4*Me.get())/4,o=(1-De.get())%1*4-n,i=Math.abs(o);i>=4||(i>2&&(o=-Object(s.a)(-1,1,o)),qe(t+o*(1/4)))},"data-test":"drag-control-dots"})}))}),[qe,ke,Me,De]),en=Object(o.useCallback)((function(){if(!Xe)for(var e=Ie;e<Ie+4;e++){var n,t,o=e%4;if(null!==(n=Je[o])&&void 0!==n&&null!==(t=n.features)&&void 0!==t&&t[0])return Ge(Ie-o),Ae([o,0])}}),[Ge,Je,Ie,Xe]);return i.a.createElement(z,{$backgroundDarkColor:E,$backgroundLightColor:w,$useFeatureViewHeight:Xe,"data-test":"feat-exp-container"},i.a.createElement(ne,{animate:pe?"show":"hide",variants:{show:{opacity:1},hide:{opacity:0,pointerEvents:"none"}},"data-test":"feat-exp-loading-overlay"},be?i.a.createElement("p",null,oe):i.a.createElement(m.a,null)),i.a.createElement(_,{"data-test":"feat-exp-header"},i.a.createElement(N,{$accentColor:k,"data-test":"feat-exp-title"},g),i.a.createElement(S,{"data-test":"feat-exp-label"},v)),i.a.createElement($,null,i.a.createElement(F,{$isActive:!Xe,$accentColor:k,onClick:function(e){$e(e.nativeEvent.pointerType||"keyboard","spin"),Ae([-1,-1])}},W),i.a.createElement(F,{$isActive:Xe,$accentColor:k,onClick:function(e){$e(e.nativeEvent.pointerType||"keyboard","feature"),en()}},te)),i.a.createElement(T,{$useFeatureViewHeight:Xe,"data-test":"feat-exp-canvas-wrapper"},i.a.createElement(A,null,i.a.createElement(p.a,{images:x,position:De,velocity:Me,onLoaded:function(){return me(!1)},onError:function(){return he(!0)}})),null!=O&&O.image?i.a.createElement(M,{src:O.image,alt:O.altText||"",$isActive:!Xe,"data-test":"feat-exp-logo"}):null,!pe&&i.a.createElement(U,{animate:{opacity:[0,1,1,1,0]},transition:{duration:4,delay:2},$isActive:!Xe},i.a.createElement(ee,{animate:{x:[0,3,0,-3,0]},transition:{duration:1,delay:3},"data-test":"feat-exp-drag-hint-icon"},i.a.createElement(u.a,{type:"fingerSwipe"}))),i.a.createElement(I,{animate:Pe,style:{position:Me},onTapStart:function(){Ae([-1,-1])},onPanStart:function(){Pe.stop(),de(!0)},onPan:function(e,n){0!==n.delta.x&&Me.set(Me.get()-n.delta.x/(2*R))},onPanEnd:function(e,n){ze(e.pointerType),de(!1);var t=.2*n.velocity.x/(2*R),o=Me.get()-t,i=Math.round(4*o)/4;qe(i,t)},"data-test":"feat-exp-input-zone"}),i.a.createElement(G,{animate:Be,$isActive:Xe,$backgroundDarkColor:E,"data-test":"feature-exp-wrapper",style:{featureOverlayOpacity:Ve}},Je.map((function(e,n){var t=n===Ie,o=(null==Te?void 0:Te[0])===n;return i.a.createElement(Q,{key:n,style:{opacity:t&&!pe?Ve:0},"data-test":"feat-exp-scene"},e.features.map((function(e,a){return i.a.createElement(C,{backgroundColor:E,disabled:!(re&&t),key:e.text,feature:e,isOpen:o&&(null==Te?void 0:Te[1])===a,onOpenRequest:function(e){we(e,"open"),Ae([n,a])},onCloseRequest:function(e){we(e,"close"),Ae([-1,-1])},numberPrefix:null==Ze?void 0:Ze.indexInSection,size:Qe})})))})))),i.a.createElement(D,{$isActive:!Xe},i.a.createElement(P,{"data-test":"feat-exp-control-wrapper-label"},Xe?te:W),i.a.createElement(H,{"data-test":"feat-exp-control-wrapper"},Xe?i.a.createElement(K,null,i.a.createElement(J,{$accentColor:k,onClick:function(e){Ce(e.nativeEvent.pointerType),Ge(-1)},"data-test":"feat-exp-nav-button-left"},i.a.createElement(d.a,{chevronDirection:"left",width:16,height:16})),i.a.createElement(Y,{"data-test":"feat-exp-control-title"},("0"+(Ze.indexInSection+1)).slice(-2),":"," ",Ze.title),i.a.createElement(J,{$accentColor:k,onClick:function(e){Ce(e.nativeEvent.pointerType),Ge(1)},"data-test":"feat-exp-nav-button-right"},i.a.createElement(d.a,{width:16,height:16}))):i.a.createElement(q,{"data-test":"feat-exp-drag-control-bg"},i.a.createElement(B,{"data-test":"feat-exp-drag-control-dots-wrapper"},Ue,i.a.createElement(X,{style:{x:He},onPanStart:function(){Pe.stop(),de(!0)},onPan:function(e,n){0!==n.delta.x&&Me.set(Me.get()-n.delta.x/R)},onPanEnd:function(e,n){Ee(e.pointerType),de(!1);var t=.2*n.velocity.x/R,o=Me.get()-t,i=Math.round(4*o)/4;qe(i,t)},$accentColor:k,$backgroundColor:E,"data-test":"feat-exp-drag-control-handle",id:"drag-control-handle"}))))),i.a.createElement(f.a,{matchWidth:"max",breakpoint:"small"},i.a.createElement(Z,{$accentColor:k,$isActive:Xe,onClick:function(e){Ce(e.nativeEvent.pointerType),xe(-1)},$direction:"left","data-test":"mobile-feat-exp-nav-button-left"},i.a.createElement(d.a,{chevronDirection:"left",width:16,height:16})),i.a.createElement(Z,{$accentColor:k,$isActive:Xe,onClick:function(e){Ce(e.nativeEvent.pointerType),xe(1)},$direction:"right","data-test":"mobile-feat-exp-nav-button-right"},i.a.createElement(d.a,{chevronDirection:"right",width:16,height:16}))))}}}]);
//# sourceMappingURL=b4935a7a33ab412c6489.50.js.map